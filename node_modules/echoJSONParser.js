//Public
module.exports = echoJSONParser;

function echoJSONParser(request) {
	//retrieves the required info from the request boy
	this.requestType = request.request.type;
	if (this.requestType === "IntentRequest"){
		this.intent = request.request.intent;
	}
}



echoJSONParser.prototype.createResponse = function(name_list_obj) {

	console.log("Person that gets insulted: " + name_list_obj.firstName);

	var opinionString = getOpinionOn(name_list_obj);
	var responseJSON =  {
		  "version": "1.0",
		  "sessionAttributes": {
		    "supportedHoriscopePeriods": {
		      "daily": true,
		      "weekly": false,
		      "monthly": false
		    }
		  },
		  "response": {
		    "outputSpeech": {
		      "type": "PlainText",
		      "text": opinionString
		    },
		    "card": {
		      "type": "Simple",
		      "title": "Horoscope",
		      "subtitle": "Virgo - Daily",
		      "content": opinionString
		    },
		    "shouldEndSession": true
		  }
		}


	var responseString = JSON.stringify(responseJSON);
 	return responseString;
};


function getOpinionOn(name_list_obj) {

	if (name_list_obj.firstName === "rikel") {
		var JOKE_LIST = [
		    "Correct grammar is not his strongest skill.",
		   	"He sucks",
		   	"Ehhhhhhhhhhhhhhhhhhhhhhhhhhhh, well, theoretically, ehhhhhhhhhhhhhhhhhhhhhhhhhh, he is a handsome man, eehhhh, practically though, he quite sucks.",
		   	"Ehhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhh, he should learn some practical, executional, carpenter skills.",
		   	"Rikelme, is the messiest in the firehouse household."
		];
		var jokeID = Math.floor(Math.random() * JOKE_LIST.length);
		var returnOpinion = JOKE_LIST[jokeID];
		return returnOpinion;

	};

	if (name_list_obj.firstName === "charles") {
		var JOKE_LIST = [
		    "So let me first tell you about Google. Google is awesome. It has so many different products. Its just great. But let me first tell you about Google. Google is awesome. It has so many different products. Its just great.",
			"He loves talking. It often starts with the word Google and then you just sit back and relax. You continue to listen for a couple more minutes. Often up to hours. At some point you will stop hearing his voice and you will start hearing the ocean... scchhhhhhhhhhhhhhhh.",
			"Charles comes from a country far north of the wall. Its always cold there. Always.",
			"You should definetely buy the Dell XPS 13 inch. Its great. You know, when people thought the earth was a slice of pizza? That is the Dell XPS 13 inch. Its screen is like a pizza. More like a magaritha pizza since it is super flat."
		   
		];

		var jokeID = Math.floor(Math.random() * JOKE_LIST.length);
		var returnOpinion = JOKE_LIST[jokeID];
		return returnOpinion;
	}
	if (name_list_obj.firstName === "gab") {
		var JOKE_LIST = [
		    "Gab is the CEO. Chef executive officer of the firehouse.",
   		    "Gab is the commander in chief, so we cannot make any jokes about her.",
  		    "Yoga is her passion. ",
  		    "There is one word: cleaniness",
   		    "Bugsy, loves bedbugs. Hence her nickname. Bugsy.",
   		    "Bugsy is awesome."
		];

		var jokeID = Math.floor(Math.random() * JOKE_LIST.length);
		var returnOpinion = JOKE_LIST[jokeID];
		return returnOpinion;
		
	}

	if (name_list_obj.firstName === "ramon") {
		var JOKE_LIST = [
		    "I'm still not sure how Ramon got his American passport.",
   		    "Ramon likes, fat, enormous, heavy, ............. burgers.",
  		    "Ramon is the greatest coder on earth. period.",
  		    "Did you know that Ramon had a horse?",
  		    "Ramon thanks his mother every day of having had him born in the U.S."

		];

		var jokeID = Math.floor(Math.random() * JOKE_LIST.length);

		var returnOpinion = JOKE_LIST[jokeID];
		return returnOpinion;
		
	}

	if (name_list_obj.firstName==="thomas") {
		var JOKE_LIST = [
		    "Thomas is amazon.",
   		    "Thomas is a very handsome, practical, clean rommaid.",
  		    "Thomas is the greatest delivery boy on earth. period.",
  		    "Thomas is cleaner than Rikel",
  		    "Thomas is the founder of Insta Douche."
		];

		var jokeID = Math.floor(Math.random() * JOKE_LIST.length);

		var returnOpinion = JOKE_LIST[jokeID];
		return returnOpinion;
		
	}

	if (name_list_obj.firstName==="henning") {
		var JOKE_LIST = [
		    "Henning likes to cuddle. And I don't talk about this short, little cuddling before you go all the way. I'm talking about hours and hours of public cuddling. Preferably, on the fathouse couch. Sorry, I meant on the Athletic Olympian house couch.",
		    "Henning comes from a small little village in the northern part of Germany. There are a lot of cows.",
		    "Henning smiles all the time. ",
		    "Henning is punctual once in his life. And that is to be at 8 a.m. at la Boulange on Saturdays and Sundays.",
		    "Is there a girl in the room? If yes, he is probably in love with her."		];

		var jokeID = Math.floor(Math.random() * JOKE_LIST.length);

		var returnOpinion = JOKE_LIST[jokeID];
		return returnOpinion;
		
	}


	if (name_list_obj.firstName==="people") {
			var JOKE_LIST = [
		    "They suck.", 
		];

		var jokeID = Math.floor(Math.random() * JOKE_LIST.length);

		var returnOpinion = JOKE_LIST[jokeID];
		return returnOpinion;
		
	}
};

echoJSONParser.prototype.createSimpleResponse = function(alexaSpeechStr){

	var responseJSON =  {
		  "version": "1.0",
		  "sessionAttributes": {
		    "supportedHoriscopePeriods": {
		      "daily": true,
		      "weekly": false,
		      "monthly": false
		    }
		  },
		  "response": {
		    "outputSpeech": {
		      "type": "PlainText",
		      "text": alexaSpeechStr
		    },
		    "card": {
		      "type": "Simple",
		      "title": "Horoscope",
		      "subtitle": "Virgo - Daily",
		      "content": alexaSpeechStr
		    },
		    "shouldEndSession": false
		  }
		}


	var responseString = JSON.stringify(responseJSON);
 	return responseString;
}