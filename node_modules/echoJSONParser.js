//Public
module.exports = echoJSONParser;

function echoJSONParser(request) {
	//retrieves the required info from the request boy
	this.requestType = request.request.type;
	if (this.requestType === "IntentRequest"){
		this.intent = request.request.intent;
	}
}



echoJSONParser.prototype.createResponse = function(name_list_obj) {

	console.log("Person that gets insulted: " + name_list_obj.firstName);

	var opinionString = getOpinionOn(name_list_obj);
	var responseJSON =  {
		  "version": "1.0",
		  "sessionAttributes": {
		    "supportedHoriscopePeriods": {
		      "daily": true,
		      "weekly": false,
		      "monthly": false
		    }
		  },
		  "response": {
		    "outputSpeech": {
		      "type": "PlainText",
		      "text": opinionString
		    },
		    "card": {
		      "type": "Simple",
		      "title": "Horoscope",
		      "subtitle": "Virgo - Daily",
		      "content": opinionString
		    },
		    "shouldEndSession": true
		  }
		}


	var responseString = JSON.stringify(responseJSON);
 	return responseString;
};


function getOpinionOn(name_list_obj) {

	if (name_list_obj.firstName === "Rikelme") {
		var JOKE_LIST = [
		    "Correct grammer is not his strongest skill.",
		   	"He sucks"
		];

		var jokeID = Math.floor(Math.random() * JOKE_LIST.length);

		var returnOpinion = JOKE_LIST[jokeID];
		return returnOpinion;

	};

	if (name_list_obj.firstName === "Charles") {

	}
	if (name_list_obj.firstName==="Gab") {
		
	}

	if (name_list_obj.firstName==="Ramon") {
		
	}

	if (name_list_obj.firstName==="Thomas") {
		
	}
};

